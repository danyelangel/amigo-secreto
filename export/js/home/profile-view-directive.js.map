{"version":3,"names":[],"mappings":"","sources":["home/profile-view-directive.js"],"sourcesContent":["/* globals Firebase */\n(function () {\n  'use strict';\n\n  /**\n   * @ngdoc directive\n   * @name home.directive:profileView\n   * @restrict EA\n   * @element\n   *\n   * @description\n   *\n   * @example\n     <example module=\"home\">\n       <file name=\"index.html\">\n        <profile-view></profile-view>\n       </file>\n     </example>\n   *\n   */\n  angular\n    .module('home')\n    .directive('profileView', profileView);\n\n  function profileView() {\n    return {\n      restrict: 'EA',\n      scope: {\n        name: '='\n      },\n      bindToController: true,\n      templateUrl: 'home/profile-view-directive.tpl.html',\n      controllerAs: 'profileView',\n      controller: function ($scope) {\n        var vm = this,\n            ref = new Firebase('https://amigo-secreto.firebaseio.com');\n\n        $scope.$watch('profileView.name', function () {\n          if (angular.isString(vm.name) && vm.name.length > 0) {\n            $getWishes(vm.name, function (wishes) {\n              vm.wishes = wishes;\n            });\n          } else {\n            vm.wishes = '';\n          }\n        });\n\n        function $getWishes(name, callback) {\n          ref.child(name).child('wishes').on('value', function (snapshot) {\n            callback(snapshot.val());\n          });\n        }\n      },\n      link: function (scope, element, attrs) {\n        /* jshint unused:false */\n        /* eslint \"no-unused-vars\": [2, {\"args\": \"none\"}] */\n      }\n    };\n  }\n}());\n"],"file":"home/profile-view-directive.js","sourceRoot":"/source/"}