{"version":3,"names":[],"mappings":"","sources":["home/home-controller.js"],"sourcesContent":["/* globals Firebase, location */\n(function () {\n  'use strict';\n\n  /**\n   * @ngdoc object\n   * @name home.controller:HomeCtrl\n   *\n   * @description\n   *\n   */\n  angular\n    .module('home')\n    .controller('HomeCtrl', HomeCtrl);\n\n  function HomeCtrl($mdDialog) {\n    var vm = this,\n        ref = new Firebase('https://amigo-secreto.firebaseio.com');\n\n    vm.deleteAccount = function () {\n      var alert = $mdDialog\n          .confirm()\n          .title('Confirmar')\n          .content('¿Estás seguro(a) que quieres borrar esta cuenta?')\n          .ok('Continuar')\n          .cancel('Cancelar'),\n          a, b, c;\n\n      $mdDialog.show(alert).finally(function () {\n        ref.child(vm.name).child('hash').set(null, function () {\n          a = true;\n          reload();\n        });\n        ref.child(vm.name).child('isRegistered').set(false, function () {\n          b = true;\n          reload();\n        });\n        ref.child(vm.name).child('wishes').set('', function () {\n          c = true;\n          reload();\n        });\n      });\n\n      function reload() {\n        if (a === true && b === true && c === true) {\n          location.reload(true);\n        }\n      }\n    };\n  }\n}());\n"],"file":"home/home-controller.js","sourceRoot":"/source/"}